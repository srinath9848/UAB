@model UAB.DTO.ChartSummaryDTO
@{
    ViewData["Title"] = "Coding";
}
<form asp-action="SubmitCodingAvailableChart" id="frmSubmitCodingAvailableChart" asp-controller="UAB" method="POST">
    <div class="container-fluid">
        <div class="row">
            <partial name="_InitialData" model=Model />
            <partial name="_CodingDetails" model=Model />
        </div>
    </div>
</form>
<style>
    .input-group-text {
        display: none;
    }
</style>
<script src="~/dashboardassets/libs/jquery/dist/jquery.min.js"></script>
<script src="~/dashboardassets/libs/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.11/jquery.validate.unobtrusive.min.js" type="text/javascript"></script>

<script type="text/javascript">

    $("#coding").addClass('selected');
    $('.Approved').hide();
    $('#divAnswer').hide();

    $('#codingSubmit').click(function () {

        if ($("#CoderQuestion").val() !== "") {
            $("#codingSubmit").prop("type", "button");
            $(".text-danger").html("");
            $("#frmSubmitCodingAvailableChart").submit();
        } else {
            $("#codingSubmit").prop("type", "submit");
            $("#frmSubmitCodingAvailableChart").valid();
            $("#frmSubmitCodingAvailableChart").submit();
        }

    });

    var dxArray = [];
    $(document).on("keyup", "input", function () {
        var keycode = (window.event) ? event.keyCode : e.keyCode;
        if (keycode == 9) {
            var id = parseInt($(this).attr('title').split("_")[1]) + parseInt(1);
            if ($(this).attr('title').split("_")[1] !== undefined) {
                var id1 = parseInt(id) - parseInt(1);
                var val = $("#txt" + id1).val();
                if (val !== "" && val !== null) {
                    if ($.inArray(val, dxArray) == -1) {
                        dxArray.push(val);
                        $("#Dx").val(dxArray);
                        //alert(dxArray);
                    }
                    $("#tableid").append('<tr id="tr' + id + '"> <td> <input type="text" title="txt' + id + '" id="txt' + id + '" /></td><td><input type="button" id="btnDelete" class="btn btn-info btn-sm" title="btn_' + id + '" value="Delete" /></td></tr >');
                    $("#txt" + id).focus();
                } else {
                    //alert('please enter value here');
                    $("#txt" + id).focus();
                }
            }
        }
    });

    $(document).on('click', '#btnDelete', function () {
        var id = $(this).attr('title').split("btn_")[1];
        var val = $("#txt" + id).val();
        if (val !== "" && val !== null) {
            if ($(this).attr('title') != "btn_0") {
                dxArray.splice($.inArray(val, dxArray), 1);
                $("#Dx").val(dxArray);
            }
        }
        if (id !== "0") {
            $('#tr' + id).remove();
        }
    });

</script>
