@model List<UAB.DTO.ChartSummaryDTO>
@{
    ViewData["Title"] = "Shadow QA";
}
<form asp-action="SubmitShadowQAAvailableChart" id="form1" asp-controller="UAB" method="POST">
    <div class="container-fluid">
        <div class="row">
            <input type="hidden" id="ShadowQAProviderFeedbackids" name="ShadowQAProviderFeedbackids" />
            <partial name="_InitialData" model=Model.FirstOrDefault() />
            <partial name="_ShadowQAChartDetails" model=Model />
        </div>
        @if (Model.FirstOrDefault().BlockResponseDTO.ResponseRemarks != null && Model.FirstOrDefault().BlockResponseDTO.BlockedInQueueKind == "ShadowQA")
        {
            <partial name="_BlockResponsePopUp" model=Model.FirstOrDefault() />
        }
    </div>
</form>
<script src="~/dashboardassets/libs/jquery/dist/jquery.min.js"></script>
<script src="~/dashboardassets/libs/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.11/jquery.validate.unobtrusive.min.js" type="text/javascript"></script>
<script type="text/javascript">
    $(".CoderDetails").css("pointer-events", "none");
    $(".CoderDetails").css("background-color", "#e9ecef");

    $(".QADetails").attr("readonly", false);
    $("#shadowQA").addClass('selected');
    $("#ShadowQADTO_CoderRebuttal").css("pointer-events", "none");
    $("#ShadowQADTO_CoderRebuttal").css("background-color", "#e9ecef");
    $(".QARemarks").css("pointer-events", "none");
    $(".QARemarks").css("background-color", "#e9ecef");

    CheckAllboxes = function (chkAll) {
        var chk = $("#" + chkAll).is(':checked');
        var id = chkAll.split("_")[1];
        if (chk) {
            $('.error_' + id + ' #mutildrop').attr("disabled", true);
            $(".txtdanger").hide();
            if (id == "1") {
                $('.QARevised').css("display", "none");
                $(".QARevised").val('');
                $(".QADxRevised_" + id).css("display", "none");
                $(".QACptRevised_" + id).css("display", "none");
            } else {
                $(".QADxRevised_" + id).css("display", "none");
                $(".QACptRevised_" + id).css("display", "none");
                $(".QARevised_" + id).css("display", "none");
            }

            $("[class*=AdjustReject_" + id + "]").removeClass('reject');
            $("[class*=AdjustAcceptReject_" + id + "]").addClass('accept');

            $(".CodingDetails").hide();
            $(".errMsg").text('');
            $("#ShadowQAErrorType_" + id).css("pointer-events", "none");
            $("#ShadowQAErrorTypeError_" + id).text('');
            //$(".QAComments").hide();
            $(".ShadowQACorrectionsComments").hide();
            $(".ShadowQACorrectionsComments_" + id).hide();

            var ignoreDxs = $("#claim"+id+ " [class*=ignore]");
            for (var i = 0; i < ignoreDxs.length; i++) {
                var id = $(ignoreDxs[i]).attr("id");
                $("#" + id).removeClass("fa fa-times-circle fa-lg ignore reject");
                $("#" + id).addClass("fa fa-times-circle fa-lg ignore");
            }
        }
        else {
            $("[class*=AdjustAcceptReject_" + id + "]").removeClass('accept');
            $("#ShadowQAErrorType_" + id).css("pointer-events", "auto");
            $('.error_' + id + ' #mutildrop').attr("disabled", false);
        }
    }

    $('span i').click(function () {
        var id = $(this).attr('id');
        var tabIndex = $(this).attr('data');
        var iconid = id.split("_")[1];
        if (tabIndex == "1") {
            if ($(this).hasClass('fa-check-circle')) {
                $(this).toggleClass('accept');
                $(this).siblings().removeClass('reject');
                $("." + id).css("display", "none");
                $("#" + id + "1").css("display", "none");
                $("#" + id + "2").css("display", "none");
                $("#" + id + "1").val('');
                $("." + id).val('');
                $("#" + id + "2").val('');
                var total = $(".AcceptRejectWidth_1").find(".fa-check-circle").length;
                var accept = $(".AcceptRejectWidth_1").find(".accept").length;
                if (total == accept) {
                    var idclass = $(".newlyDxCpt_" + tabIndex).css("display") == "flex";
                    if (idclass == false) {
                        $("#chkAll_1").prop('checked', true);
                        $('.error_' + tabIndex + ' #mutildrop').attr("disabled", true);
                        $("#ShadowQAErrorTypeError_1").val('');
                        $("#ShadowQAErrorType_1").css("pointer-events", "none");
                        $(".ErrorType").text('');
                        $(".errMsg").text('');
                        $(".ShadowQACorrectionsComments").hide();
                    }
                }
            }
            else if ($(this).hasClass('fa-times-circle')) {
                $(this).toggleClass('reject');
                $(this).siblings().removeClass('accept');
                var idclass = $("#" + id).attr('class');
                if (idclass == "fa fa-times-circle fa-lg ignore") {
                    $("." + id).css("display", "none");
                    var total = $(".AcceptRejectWidth_1").find(".fa-check-circle").length;
                    var accept = $(".AcceptRejectWidth_1").find(".accept").length;
                    if (total == accept) {
                        $("#chkAll_1").prop('checked', true);
                        $('.error_' + tabIndex + ' #mutildrop').attr("disabled", true);
                        $("#ShadowQAErrorTypeError_1").val('');
                        $("#ShadowQAErrorType_1").css("pointer-events", "none");
                        $(".ErrorType").text('');
                        $(".errMsg").text('');
                        $(".ShadowQACorrectionsComments").hide();
                        $(".QAComments").hide();
                    }
                }
                else {
                    $("." + id).css("display", "flex");
                    $("#" + id + "1").css("display", "flex");
                    $("#" + id + "2").css("display", "flex");
                    $("#chkAll_1").prop('checked', false);
                    $('.error_' + tabIndex + ' #mutildrop').attr("disabled", false);
                    $("#ShadowQAErrorType_1").css("pointer-events", "auto");
                    $(".ShadowQACorrectionsComments").show();
                    $(".QAComments").show();
                }
            }
        } else {
            if ($(this).hasClass('fa-check-circle')) {
                $(this).toggleClass('accept');
                $(this).siblings().removeClass('reject');
                $("." + id).css("display", "none");
                $("#" + id + "1").css("display", "none");
                $("#" + id + "2").css("display", "none");
                $("#" + id + "1").val('');
                $("." + id).val('');
                $("#" + id + "2").val('');
                var total = $(".AcceptRejectWidth_" + iconid).find(".fa-check-circle").length;
                var accept = $(".AcceptRejectWidth_" + iconid).find(".accept").length;
                if (total == accept) {
                    var idclass = $(".newlyDxCpt_" + tabIndex).css("display") == "flex";
                    if (idclass == false) {
                        $("#chkAll_" + iconid).prop('checked', true);
                        $('.error_' + tabIndex + ' #mutildrop').attr("disabled", true);
                        $("#ShadowQAErrorTypeError_" + iconid).val('');
                        $("#ShadowQAErrorType_" + iconid).css("pointer-events", "none");
                        $(".ErrorType_" + iconid).text('');
                        $(".errMsg").text('');
                        $(".ShadowQACorrectionsComments_" + iconid).hide();
                        $(".QAComments_" + iconid).hide();
                    }
                }
            }
            else if ($(this).hasClass('fa-times-circle')) {
                $(this).toggleClass('reject');
                $(this).siblings().removeClass('accept');
                var idclass = $("#" + id).attr('class');
                if (idclass == "fa fa-times-circle fa-lg ignore") {
                    $("." + id).css("display", "none");
                    var total = $(".AcceptRejectWidth_" + iconid).find(".fa-check-circle").length;
                    var accept = $(".AcceptRejectWidth_" + iconid).find(".accept").length;
                    if (total == accept) {
                        $("#chkAll_" + iconid).prop('checked', true);
                        $('.error_' + tabIndex + ' #mutildrop').attr("disabled", true);
                        $("#ShadowQAErrorTypeError_" + iconid).val('');
                        $("#ShadowQAErrorType_" + iconid).css("pointer-events", "none");
                        $(".ErrorType_" + iconid).text('');
                        $(".errMsg").text('');
                        $(".ShadowQACorrectionsComments_" + iconid).hide();
                        $(".QAComments_" + iconid).hide();
                    }
                }
                else {
                    $("." + id).css("display", "flex");
                    $("#" + id + "1").css("display", "flex");
                    $("#" + id + "2").css("display", "flex");
                    $("#chkAll_" + iconid).prop('checked', false);
                    $('.error_' + tabIndex + ' #mutildrop').attr("disabled", false);
                    $("#ShadowQAErrorType_" + iconid).css("pointer-events", "auto");
                    $(".ShadowQACorrectionsComments_" + iconid).show();
                    $(".QAComments_" + iconid).show();
                }
            }
        }
    });

    var isBlocked = @(ViewBag.IsBlocked == null ? "0": "1");
    var enableNext = @(ViewBag.EnableNext == null ? "false": ViewBag.EnableNext);
    var enablePrevious = @(ViewBag.EnablePrevious == null ? "false" : ViewBag.EnablePrevious);

    if (isBlocked == 1) {

        $(".clsbtnBlockHistory").show();

        if (enablePrevious == true) {
            $(".clsPrevious").css({
                'opacity': '100', 'pointer-events': 'auto'
            });
        } else {
            $(".clsPrevious").css({
                'opacity': '0.65', 'pointer-events': 'none'
            });
        }
        if (enableNext == true) {
            $(".clsNext").css({
                'opacity': '100', 'pointer-events': 'auto'
            });
        } else {
            $(".clsNext").css({
                'opacity': '0.65', 'pointer-events': 'none'
            });
        }
    }
    else {
        $(".clsPrevious").hide();
        $(".clsNext").hide();
    }

    var dxArray = [];
    function DxFunction(txt_0) {
        var id = parseInt(txt_0.split("_")[1]) + parseInt(1);
        if (txt_0.split("_")[1] !== undefined) {
            var currId = parseInt(id) - parseInt(1);
            var val = $("#txtDx_" + currId).val();
            if (val !== "" && val !== null) {
                //if ($.inArray(val, dxArray) == -1) {
                //    dxArray.push(val);
                //    $("#Dx").val(dxArray);
                    var text = "'" + "txtDx_" + id + "'";
                    var deleteDx = "'" + "DivDxRow_" + id + "'";
                    $("#DivDx").append('<div id="DivDxRow_' + id + '" class="form-group row"><label class= "col-md-3 lessWidth m-t-15" ></label><div class="col-md-3 input-group"></div><div class="col-md-3 input-group"></div ><div class="col-md-3 input-group"><div class="input-group-prepend ControlHeight"><span class="input-group-text dxindex AdjustSerialNumber" id="basic-addon1">' + id + '</span></div><input type="text" placeholder="Code" tabindex="' + id + '" onfocusout="DxFunction(' + text + ')" class="form-control CoderDetails ControlHeight txtDx" id="txtDx_' + id + '" /><button type="button" id="DeleteDxCodes_' + id + '" class="btn btn-sm" style="max-width:18px;padding-left:5px;margin-left:-5px;" onclick="DeleteDxCodes(' + deleteDx + ')"><i class="fa fa-times"></i></button></div><div class="col-md-3 input-group"><input type = "text" style="display: flex;" id ="DxRemarks_' + id + '" class="form-control ControlHeight DxRemarks_' + id + '" />  <span id="validDx_' + id + '" class="text-danger txtdanger DxRemarks_' + id + '" style="display: none;">*</span></div></div>');
                    $("#txtDx_" + currId).removeAttr("onfocusout", "");
                    $("#txtDx_" + id).focus();
                //}
            } else {
                $("#txtCpt_1").focus();
                //var id2 = parseInt(id) - parseInt(1);
                //var val = $("#txt" + id2).val();
                //if (val == "") {
                //    if (id2 !== 0) {
                //        dxArray.splice(id2, id2);
                //        $("#Dx").val(dxArray);
                //        $('#tr' + id2).remove();
                //        //$("#txt" + id2).focus();
                //    }
                //}
            }
        }
    }

    var dxArray2 = [];
    var dxArray3 = [];
    var dxArray4 = [];
    function DxClaims(txt_0) {
        var id = parseInt(txt_0.split("_")[1]) + parseInt(1);
        var claimid = parseInt(txt_0.split("_")[2]);
        var seqno = parseInt($("#" + txt_0).val()) + parseInt(1);
        var isseqno = isNaN(seqno);
        if (isseqno)
            seqno = id;
        if (claimid == 2) {
            if (txt_0.split("_")[1] !== undefined) {
                var currId = parseInt(id) - parseInt(1);
                var val = $("#txtDx2Claim_" + currId).val();
                if (val !== "" && val !== null) {
                    //if ($.inArray(val, dxArray2) == -1) {
                    //    dxArray2.push(val);
                        //$("#hdnDxCodes1").val(dxArray2);
                    var text = "'" + "txt" + claimid + "Dx_" + seqno + "_" + parseInt(2) + "'";
                    var deleteDx = "'" + "Div2DxRow_" + claimid + "_" + seqno + "'";
                    $("#DivDx_2").append('<div id="Div2DxRow_' + claimid + "_" + seqno + '" class="form-group row"><label class="col-md-3 lessWidth m-t-15"></label><div class="col-md-3 input-group" style="visibility: hidden;"><input type="hidden" id=' + text + ' value=' + seqno + ' /><div class="input-group-prepend ControlHeight"><span class="input-group-text AdjustSerialNumber" id="basic-addon1"></span></div><input class="form-control CoderDetails ControlHeight valid" type="text" value="" style="pointer-events: none; background-color: rgb(233, 236, 239);"><div class="input-group-append ControlHeight"><span class="input-group-text AcceptRejectWidth QACorrections"></span></div></div><div title="" class="col-md-3 input-group" style="visibility: hidden;"><input type="text" id="" class="form-control ControlHeight" value="" aria-invalid="false"></div><div class="col-md-3 input-group"><div class="input-group-prepend ControlHeight"><span class="input-group-text dx2index AdjustSerialNumber" id="basic-addon1">' + seqno + '</span></div><input type="text" placeholder="Code" onfocusout="DxClaims(' + text + ')" class="form-control CoderDetails claim_' + claimid + '" id="txtDx2Claim_' + seqno + '" /><button type="button" id="DeleteDx2Codes_' + id + '" class="btn btn-sm" style="max-width:18px;padding-left:5px;margin-left:-5px;" onclick="DeleteDxClaims(' + deleteDx + ')"><i class="fa fa-times"></i></button></div><div class="col-md-3 input-group"><input type = "text" style="display: flex;" id ="DxRemarkss_2_' + seqno + '" class="form-control ControlHeight" /><span id="validDxRemarksClaim_2_' + seqno + '" class="text-danger txtdanger" style="display:none">*</span></div></div>');
                        $("#txtDx2Claim_" + currId).removeAttr("onfocusout", "");
                    $("#txtDx2Claim_1").removeAttr("onfocusout", "");
                    $("#txtDx2Claim_" + seqno).focus();
                    //}
                }
                else {
                    $("#txt2Cpt_1").focus();
                }
            }
        }
        if (claimid == 3) {
            if (txt_0.split("_")[1] !== undefined) {
                var currId = parseInt(id) - parseInt(1);
                var val = $("#txtDx3Claim_" + currId).val();
                if (val !== "" && val !== null) {
                    if ($.inArray(val, dxArray3) == -1) {
                        dxArray3.push(val);
                        //$("#hdnDxCodes2").val(dxArray3);
                        var text = "'" + "txt" + claimid + "Dx_" + seqno + "_" + parseInt(3) + "'";
                        var deleteDx = "'" + "Div3DxRow_" + id + "_" + claimid + "'";
                        $("#DivDx_3").append('<div id="Div3DxRow_' + id + "_" + claimid + '" class="form-group row"><label class="col-md-3 lessWidth m-t-15"></label><div class="col-md-3 input-group" style="visibility: hidden;"><input type="hidden" id=' + text + ' value=' + seqno + ' /><div class="input-group-prepend ControlHeight"><span class="input-group-text AdjustSerialNumber" id="basic-addon1"></span></div><input class="form-control CoderDetails ControlHeight valid" type="text" value="" style="pointer-events: none; background-color: rgb(233, 236, 239);"><div class="input-group-append ControlHeight"><span class="input-group-text AcceptRejectWidth QACorrections"></span></div></div><div title="" class="col-md-3 input-group" style="visibility: hidden;"><input type="text" id="" class="form-control" value="" aria-invalid="false"></div><div class="col-md-3 input-group"><div class="input-group-prepend ControlHeight"><span class="input-group-text dx3index AdjustSerialNumber" id="basic-addon1">' + seqno + '</span></div><input type="text" placeholder="Code" onfocusout="DxClaims(' + text + ')" class="form-control CoderDetails claim_' + claimid + '" id="txtDx3Claim_' + seqno + '" /><button type="button" id="DeleteDxCodes_' + id + '" class="btn btn-sm" style="max-width:18px;padding-left:5px;margin-left:-5px;" onclick="DeleteDxClaims(' + deleteDx + ')"><i class="fa fa-times"></i></button></div><div class="col-md-3 input-group"><input type = "text" style="display: flex;" id ="DxRemarkss_3_' + seqno + '" class="form-control ControlHeight" /><span id="validDxRemarksClaim_3_' + seqno + '" class="text-danger txtdanger" style="display:none">*</span></div></div>');
                        $("#txtDx3Claim_" + currId).removeAttr("onfocusout", "");
                        $("#txtDx3Claim_1").removeAttr("onfocusout", "");
                        $("#txtDx3Claim_" + id).focus();
                    }
                } else {
                    $("#txt3Cpt_1").focus();
                }
            }
        }
        if (claimid == 4) {
            if (txt_0.split("_")[1] !== undefined) {
                var currId = parseInt(id) - parseInt(1);
                var val = $("#txtDx4Claim_" + currId).val();
                if (val !== "" && val !== null) {
                    if ($.inArray(val, dxArray4) == -1) {
                        dxArray4.push(val);
                        //$("#hdnDxCodes3").val(dxArray4);
                        var text = "'" + "txt" + claimid + "Dx_" + seqno + "_" + parseInt(4) + "'";
                        var deleteDx = "'" + "Div4DxRow_" + id + "_" + claimid + "'";
                        $("#DivDx_4").append('<div id="Div4DxRow_' + id + "_" + claimid + '" class="form-group row"><label class="col-md-3 lessWidth m-t-15"></label><div class="col-md-3 input-group" style="visibility: hidden;"><input type="hidden" id=' + text + ' value=' + seqno + ' /><div class="input-group-prepend ControlHeight"><span class="input-group-text AdjustSerialNumber" id="basic-addon1"></span></div><input class="form-control CoderDetails ControlHeight valid" type="text" value="" style="pointer-events: none; background-color: rgb(233, 236, 239);"><div class="input-group-append ControlHeight"><span class="input-group-text AcceptRejectWidth QACorrections"></span></div></div><div title="" class="col-md-3 input-group" style="visibility: hidden;"><input type="text" id="" class="form-control" value="" aria-invalid="false"></div><div class="col-md-3 input-group"><div class="input-group-prepend ControlHeight"><span class="input-group-text dx4index AdjustSerialNumber" id="basic-addon1">' + seqno + '</span></div><input type="text" placeholder="Code" onfocusout="DxClaims(' + text + ')" class="form-control CoderDetails claim_' + claimid + '" id="txtDx4Claim_' + seqno + '" /><button type="button" id="DeleteDxCodes_' + id + '" class="btn btn-sm" style="max-width:18px;padding-left:5px;margin-left:-5px;" onclick="DeleteDxClaims(' + deleteDx + ')"><i class="fa fa-times"></i></button></div><div class="col-md-3 input-group"><input type = "text" style="display: flex;" id ="DxRemarkss_4_' + seqno + '" class="form-control ControlHeight" /><span id="validDxRemarksClaim_4_' + seqno + '" class="text-danger txtdanger" style="display:none">*</span></div></div>');
                        $("#txtDx4Claim_" + currId).removeAttr("onfocusout", "");
                        $("#txtDx4Claim_1").removeAttr("onfocusout", "");
                        $("#txtDx4Claim_" + id).focus();
                    }
                } else {
                    $("#txt4Cpt_1").focus();
                }
            }
        }
    }

    var cptArray = [];
    function CptFunction(txtCpt_0) {
        var id = parseInt(txtCpt_0.split("_")[1]) + parseInt(1);
        if (txtCpt_0.split("_")[1] !== undefined) {
            var id1 = parseInt(id) - parseInt(1);
            var val1 = $("#txtCpt_" + id1).val();

            var val2 = null;
            if ($("#txtMod_" + id1).val() != "")
                val2 = $("#txtMod_" + id1).val().replace(",", "|");

            var val3 = null;
            if ($("#txtQty_" + id1).val() != "")
                val3 = $("#txtQty_" + id1).val();

            var val4 = null;
            if ($("#txtLinks_" + id1).val() != "")
                val4 = $("#txtLinks_" + id1).val().replace(",", "|");

            if (val1 !== "") {
                //if ($.inArray(val1, cptArray) == -1) {
                //    cptArray.push(val1 + "^" + val2 + "^" + val3 + "^" + val4);
                //    $("#CPTCode").val(cptArray);
                    var count = id + parseInt(1);
                    var txtLinks = "'" + "txtLinks_" + id + "'";
                    var deleteCpt = "'" + "DivCptRow_" + id + "'";
                    var tabindex1 = parseInt(9) + parseInt(id) + parseInt(count) + parseInt(val1);
                    var tabindex2 = parseInt(10) + parseInt(id) + parseInt(count) + parseInt(val1);
                    var tabindex3 = parseInt(11) + parseInt(id) + parseInt(count) + parseInt(val1);
                    var tabindex4 = parseInt(12) + parseInt(id) + parseInt(count) + parseInt(val1);
                $("#DivCpt").append('<div id="DivCptRow_' + id + '" class="form-group row"><label class="col-md-3 lessWidth m-t-15"></label><div class="col-md-3 input-group"></div > <div class="col-md-3 input-group"></div ><div class="col-md-3 CptlessWidth input-group"><div class="input-group-prepend ControlHeight"><span class="input-group-text cptindex AdjustSerialNumber" id="basic-addon1">' + id + '</span></div><input tabindex = "' + tabindex1 + '" type = "text" placeholder = "Code" style="min-width:50px;" class= "form-control CoderDetails ControlHeight txtCpt" id = "txtCpt_' + id + '" /><input tabindex="' + tabindex2 + '" type="text" class="form-control CoderDetails ControlHeight" placeholder="Mod" style="min-width:42px;" id="txtMod_' + id + '"/><input tabindex="' + tabindex3 + '" type="text" class="form-control CoderDetails cptQtyClaim ControlHeight" style="max-width:23px;" placeholder="Qty" value="1" id="txtQty_' + id + '"/><input tabindex="' + tabindex4 + '" type="text" class="form-control CoderDetails cptLinks ControlHeight" placeholder="Link All" onfocusout="CptFunction(' + txtLinks + ')" id="txtLinks_' + id + '"/><button type="button" class="btn btn-sm" style="max-width:18px;padding-left:5px;margin-left:-5px;" onclick="DeleteCptCodes(' + deleteCpt + ')"><i class="fa fa-times"></i></button></div><div class="col-md-3 input-group"><input type="text" style="display: flex;" id="CptRemarks_' + id + '" class="form-control ControlHeight CptRemarks_' + id + '" /><span id="validCpt_' + id + '" class="text-danger txtdanger" style="display:none">*</span></div></div>');
                    $("#txtLinks_" + id1).removeAttr("onfocusout", "");
                    $("#txtCpt_" + id).focus();
                //}

            } else {
                $("#ProviderFeedbackID").focus();
                //var id2 = parseInt(id) - parseInt(1);
                //var val = $("#txtCpt" + id2).val();
                //if (val == "") {
                //    if (id2 !== 0) {
                //        cptArray.splice(id2, id2);
                //        $("#CPTCode").val(cptArray);
                //        $('#cpttr' + id2).remove();
                //        //$("#CPTCode" + id2).focus();
                //    }
                //}
            }
        }
    }

    var cptArray2 = [];
    var cptArray3 = [];
    var cptArray4 = [];
    function CptClaims(txtCpt_0) {
        var id = parseInt(txtCpt_0.split("_")[1]) + parseInt(1);
        var claimid = parseInt(txtCpt_0.split("_")[2]);
        var seqno = parseInt($("#" + txtCpt_0).val()) + parseInt(1);
        if (claimid == 2) {
            if (txtCpt_0.split("_")[1] !== undefined) {
                var currId = parseInt(id) - parseInt(1);
                var val = $("#txt2Cpt_" + currId).val();
                if (val !== "") {
                    if ($.inArray(val1, cptArray2) == -1) {
                        //if (val1 !== undefined) {
                        var txtLinks = "'" + "txt" + claimid + "links_" + seqno + "_" + parseInt(2) + "'";
                        var deleteCpt = "'" + "Div2CptRow_" + id + "_" + claimid + "'";
                        $("#DivCpt_2").append('<div id="Div2CptRow_' + id + "_" + claimid + '" class="form-group row"><label class="col-md-3 lessWidth m-t-15"></label><div class="col-md-3 CptlessWidth input-group" style="visibility: hidden;"><input type="hidden" id=' + txtLinks + ' value=' + seqno + ' /><div class="input-group-prepend ControlHeight"><span class="input-group-text AdjustSerialNumber" id="basic-addon1"></span></div><input type="text" maxlength="5" style="min-width: 50px; pointer-events: none; background-color: rgb(233, 236, 239);" class="form-control CoderDetails ControlHeight" autocomplete="off" placeholder="Code" value=""><input type="text" style="min-width: 42px; pointer-events: none; background-color: rgb(233, 236, 239);" class="form-control CoderDetails ControlHeight" autocomplete="off" placeholder="Mod" value=""><input type="text" style="max-width: 23px; pointer-events: none; background-color: rgb(233, 236, 239);" class="form-control CoderDetails cptQtyClaim ControlHeight" autocomplete="off" placeholder="Qty" value=""><input type="text" class="form-control CoderDetails cptLinksClaim ControlHeight" autocomplete="off" placeholder="Link All" value="" style="pointer-events: none; background-color: rgb(233, 236, 239);"><div class="input-group-append ControlHeight"><span class="input-group-text AcceptRejectWidth"></span></div></div><div title="" class="col-md-3 input-group" style="visibility: hidden;"><input type="text" id="" class="form-control" value="" aria-invalid="false"></div><div class="col-md-3 CptlessWidth input-group"><div class="input-group-prepend ControlHeight"><span class="input-group-text cpt2index AdjustSerialNumber" id="basic-addon1">' + seqno + '</span></div><input type = "text" placeholder = "Code" style="min-width:50px;" maxlength="5" class= "form-control CoderDetails Cptclaim_' + claimid + '" id = "txt2Cpt_' + seqno + '" /><input type="text" style="min-width:42px;" class="form-control CoderDetails Cptclaim_' + claimid + '" placeholder="Mod" id="txt2mod_' + seqno + '"/><input type="text" style="max-width:23px;" class="form-control CoderDetails cptQtyClaim Cptclaim_' + claimid + '" placeholder="Qty" value="1" id="txt2qty_' + seqno + '"/><input type="text" class="form-control CoderDetails cptLinksClaim Cptclaim_' + claimid + '" placeholder="Link All" onfocusout="CptClaims(' + txtLinks + ')" id="txt2links_' + seqno + '"/><button type="button" class="btn btn-sm" style="max-width:18px;padding-left:5px;margin-left:-5px;" onclick="DeleteCptClaims(' + deleteCpt + ')"><i class="fa fa-times"></i></button></div><div class="col-md-3 input-group"><input type="text" style="display: flex;" id="CptRemarkss_2_' + seqno + '" class="form-control CptRemarks_' + seqno +'" ControlHeight" /><span id="validCptRemarksClaim_2_' + seqno + '" class="text-danger txtdanger" style="display:none">*</span></div></div>');
                        $("#txt2links_" + currId).removeAttr("onfocusout", "");
                        $("#txt2links_1").removeAttr("onfocusout", "");
                        // alert(id);
                        $("#txt2Cpt_" + seqno).focus();
                        //}
                    }
                }
                else {
                    $("#ProviderFeedbacks_" + id).focus();
                }
            }
        }

        if (claimid == 3) {
            if (txtCpt_0.split("_")[1] !== undefined) {
                var id1 = parseInt(id) - parseInt(1);
                var val1 = $("#txt3Cpt_" + id1).val();
                if (val1 !== "") {
                    if ($.inArray(val1, cptArray3) == -1) {
                        //if (val1 !== undefined) {
                        var txtLinks = "'" + "txt" + claimid + "links_" + seqno + "_" + parseInt(3) + "'";
                        var deleteCpt = "'" + "Div3CptRow_" + id + "_" + claimid + "'";
                        $("#DivCpt_3").append('<div id="Div3CptRow_' + id + "_" + claimid + '" class="form-group row"><label class="col-md-3 lessWidth m-t-15"></label><div class="col-md-3 CptlessWidth input-group" style="visibility: hidden;"><input type="hidden" id=' + txtLinks + ' value=' + seqno + ' /><div class="input-group-prepend ControlHeight"><span class="input-group-text AdjustSerialNumber" id="basic-addon1"></span></div><input type="text" maxlength="5" style="min-width: 50px; pointer-events: none; background-color: rgb(233, 236, 239);" class="form-control CoderDetails ControlHeight" autocomplete="off" placeholder="Code" value=""><input type="text" style="min-width: 42px; pointer-events: none; background-color: rgb(233, 236, 239);" class="form-control CoderDetails ControlHeight" autocomplete="off" placeholder="Mod" value=""><input type="text" style="max-width: 23px; pointer-events: none; background-color: rgb(233, 236, 239);" class="form-control CoderDetails cptQtyClaim ControlHeight" autocomplete="off" placeholder="Qty" value=""><input type="text" class="form-control CoderDetails cptLinksClaim ControlHeight" autocomplete="off" placeholder="Link All" value="" style="pointer-events: none; background-color: rgb(233, 236, 239);"><div class="input-group-append ControlHeight"><span class="input-group-text AcceptRejectWidth"></span></div></div><div title="" class="col-md-3 input-group" style="visibility: hidden;"><input type="text" id="" class="form-control" value="" aria-invalid="false"></div><div class="col-md-3 CptlessWidth input-group"><div class="input-group-prepend ControlHeight"><span class="input-group-text cpt3index AdjustSerialNumber" id="basic-addon1">' + seqno + '</span></div><input type = "text" placeholder = "Code" style="max-width:55px;" maxlength="5" class= "form-control CoderDetails Cptclaim_' + claimid + '" id = "txt3Cpt_' + seqno + '" /><input type="text" style="max-width:50px;" class="form-control CoderDetails Cptclaim_' + claimid + '" placeholder="Mod" id="txt3mod_' + seqno + '"/><input type="text" style="max-width:30px;" class="form-control CoderDetails cptQtyClaim Cptclaim_' + claimid + '" placeholder="Qty" value="1" id="txt3qty_' + seqno + '"/><input type="text" class="form-control CoderDetails cptLinksClaim Cptclaim_' + claimid + '" placeholder="Link All" onfocusout="CptClaims(' + txtLinks + ')" id="txt3links_' + id + '"/><button type="button" class="btn btn-sm" style="max-width:18px;padding-left:5px;margin-left:-5px;" onclick="DeleteCptClaims(' + deleteCpt + ')"><i class="fa fa-times"></i></button></div><div class="col-md-3 input-group"><input type="text" style="display: flex;" id="CptRemarkss_3_' + seqno + '" class="form-control ControlHeight" /><span id="validCptRemarksClaim_3_' + seqno + '" class="text-danger txtdanger" style="display:none">*</span></div></div>');
                        $("#txt3links_" + id1).removeAttr("onfocusout", "");
                        $("#txt3links_1").removeAttr("onfocusout", "");
                        $("#txt3Cpt_" + id).focus();
                        //}
                    }
                }
                else {
                    $("#ProviderFeedbacks_" + id).focus();
                }
            }
        }

        if (claimid == 4) {
            if (txtCpt_0.split("_")[1] !== undefined) {
                var id1 = parseInt(id) - parseInt(1);
                var val1 = $("#txt4Cpt_" + id1).val();
                if (val1 !== "") {
                    if ($.inArray(val1, cptArray4) == -1) {
                        //if (val1 !== undefined) {
                        var txtLinks = "'" + "txt" + claimid + "links_" + seqno + "_" + parseInt(4) + "'";
                        var deleteCpt = "'" + "Div4CptRow_" + id + "_" + claimid + "'";
                        $("#DivCpt_4").append('<div id="Div4CptRow_' + id + "_" + claimid + '" class="form-group row"><label class="col-md-3 lessWidth m-t-15"></label><div class="col-md-3 CptlessWidth input-group" style="visibility: hidden;"><input type="hidden" id=' + txtLinks + ' value=' + seqno + ' /><div class="input-group-prepend ControlHeight"><span class="input-group-text AdjustSerialNumber" id="basic-addon1"></span></div><input type="text" maxlength="5" style="min-width: 50px; pointer-events: none; background-color: rgb(233, 236, 239);" class="form-control CoderDetails ControlHeight" autocomplete="off" placeholder="Code" value=""><input type="text" style="min-width: 42px; pointer-events: none; background-color: rgb(233, 236, 239);" class="form-control CoderDetails ControlHeight" autocomplete="off" placeholder="Mod" value=""><input type="text" style="max-width: 23px; pointer-events: none; background-color: rgb(233, 236, 239);" class="form-control CoderDetails cptQtyClaim ControlHeight" autocomplete="off" placeholder="Qty" value=""><input type="text" class="form-control CoderDetails cptLinksClaim ControlHeight" autocomplete="off" placeholder="Link All" value="" style="pointer-events: none; background-color: rgb(233, 236, 239);"><div class="input-group-append ControlHeight"><span class="input-group-text AcceptRejectWidth"></span></div></div><div title="" class="col-md-3 input-group" style="visibility: hidden;"><input type="text" id="" class="form-control" value="" aria-invalid="false"></div><div class="col-md-3 CptlessWidth input-group"><div class="input-group-prepend ControlHeight"><span class="input-group-text cpt4index AdjustSerialNumber" id="basic-addon1">' + seqno + '</span></div><input type = "text" placeholder = "Code" style="max-width:55px;" maxlength="5" class= "form-control CoderDetails Cptclaim_' + claimid + '" id = "txt4Cpt_' + seqno + '" /><input type="text" style="max-width:50px;" class="form-control CoderDetails Cptclaim_' + claimid + '" placeholder="Mod" id="txt4mod_' + seqno + '"/><input type="text" style="max-width:30px;" class="form-control CoderDetails cptQtyClaim Cptclaim_' + claimid + '" placeholder="Qty" value="1" id="txt4qty_' + seqno + '"/><input type="text" class="form-control CoderDetails cptLinksClaim Cptclaim_' + claimid + '" placeholder="Link All" onfocusout="CptClaims(' + txtLinks + ')" id="txt4links_' + seqno + '"/><button type="button" class="btn btn-sm" style="max-width:18px;padding-left:5px;margin-left:-5px;" onclick="DeleteCptClaims(' + deleteCpt + ')"><i class="fa fa-times"></i></button></div><div class="col-md-3 input-group"><input type="text" style="display: flex;" id="CptRemarkss_4_' + seqno + '" class="form-control ControlHeight" /><span id="validCptRemarksClaim_4_' + seqno + '" class="text-danger txtdanger" style="display:none">*</span></div></div>');
                        $("#txt4links_" + id1).removeAttr("onfocusout", "");
                        $("#txt4links_1").removeAttr("onfocusout", "");
                        $("#txt4Cpt_" + id).focus();
                        //}
                    }
                }
                else {
                    $("#ProviderFeedbacks_" + id).focus();
                }
            }
        }
    }

    $("#ShadowQADTO_ErrorType").change(function () {
        if ($(this).val() != "") {
            $(".ErrorType").text('');
        }
    });

    $(document).on('click', '#btnsubmit,#SubmitAndGetNext', function (e) {
        $('#ShadowQAProviderFeedbackids').val($('#ShadowQAProviderFeedback_1 option:selected').toArray().map(item => item.value).join());
        $(".tab").each(function () {
            var id = $(this).attr('id');
            var tabid = id.split("tabIndex_")[1].split("_ClaimId_")[0];
            var claimId = id.split("tabIndex_")[1].split("_ClaimId_")[1];
            var ErrorTypeID = $("#ShadowQAErrorType_" + tabid + ' option:selected').toArray().map(item => item.value).join();//$("#ShadowQAErrorType_" + tabid).val();
            $("#hdnShadowQAErrorTypeID" + tabid).val(ErrorTypeID);
            $("#hdnClaimId" + tabid).val(claimId);
            var ProviderID = "";
            var BillingProviderID = "";
            var PayorID = "";
            var ProviderFeedbackID = "";
            var ProviderRemarks = "";
            var BillingProviderRemarks = "";
            var payorRemarks = "";
            var FeedbackRemarks = "";

            $("#hdnClaim" + tabid).val('');
            $("#hdnAcceptClaim" + tabid).val('');
            var res2 = $("[id=" + "ProviderID_" + tabid + "]:eq(1)").attr('class');
            if (res2.includes('reject') && $("#ShadowQAProviderIDRemarks_" + tabid).css("display") == "flex") {
                ProviderID = $("#ShadowQAProviderID_" + tabid).val();
                if ($('#ShadowQAProviderIDRemarks_' + tabid).val() != "") {
                    ProviderRemarks = $("#ShadowQAProviderIDRemarks_" + tabid).val();
                    $("#validProvider_" + tabid).hide();
                    if ($("#hdnClaim" + tabid).val() == "") {
                        $("#hdnClaim" + tabid).val("ClaimId" + "|" + claimId + "^" + "ProviderID" + "|" + ProviderID + "|" + ProviderRemarks);
                    }
                } else {
                    $('#ShadowQAProviderIDRemarks_' + tabid).focus();
                    $("#validProvider_" + tabid).show();
                }
            }
            else {
                ProviderID = $("#QAProviderID_" + tabid).val();
                ProviderRemarks = $("#QAProviderIDRemarks_" + tabid).val();
                if (ProviderID != "0" && ProviderID != "") {
                    if ($("#hdnAcceptClaim" + tabid).val() == "") {
                        $("#hdnAcceptClaim" + tabid).val("ClaimId" + "|" + claimId + "^" + "ProviderID" + "|" + ProviderID + "|" + ProviderRemarks);
                    }
                }
            }
            if ($("#BillingProviderID_" + tabid).length) {
                var res2 = $("[id=" + "BillingProviderID_" + tabid + "]:eq(1)").attr('class');
                if (res2.includes('reject') && $("#ShadowQABillingProviderIDRemarks_" + tabid).css("display") == "flex") {
                    BillingProviderID = $("#ShadowQABillingProviderID_" + tabid).val();
                    if ($('#ShadowQABillingProviderIDRemarks_' + tabid).val() != "") {
                        BillingProviderRemarks = $('#ShadowQABillingProviderIDRemarks_' + tabid).val();
                        $("#validBillingProvider_" + tabid).hide();
                        if ($("#hdnClaim" + tabid).val() == "") {
                            $("#hdnClaim" + tabid).val("ClaimId" + "|" + claimId + "^" + "BillingProviderID" + "|" + BillingProviderID + "|" + BillingProviderRemarks);
                        } else {
                            $("#hdnClaim" + tabid).val($("#hdnClaim" + tabid).val() + "^" + "BillingProviderID" + "|" + BillingProviderID + "|" + BillingProviderRemarks);
                        }
                    } else {
                        $('#ShadowQABillingProviderIDRemarks_' + tabid).focus();
                        $("#validBillingProvider_" + tabid).show();
                    }
                }
                else {
                    BillingProviderID = $("#QABillingProviderID_" + tabid).val();
                    BillingProviderRemarks = $('#QABillingProviderIDRemarks_' + tabid).val();
                    if (BillingProviderID != "0" && BillingProviderID != "") {
                        if ($("#hdnAcceptClaim" + tabid).val() == "") {
                            $("#hdnAcceptClaim" + tabid).val("ClaimId" + "|" + claimId + "^" + "BillingProviderID" + "|" + BillingProviderID + "|" + BillingProviderRemarks);
                        } else {
                            $("#hdnAcceptClaim" + tabid).val($("#hdnAcceptClaim" + tabid).val() + "^" + "BillingProviderID" + "|" + BillingProviderID + "|" + BillingProviderRemarks);
                        }
                    }
                }
            }
            var res2 = $("[id=" + "PayorID_" + tabid + "]:eq(1)").attr('class');
            if (res2.includes('reject') && $("#ShadowQAPayorIDRemarks_" + tabid).css("display") == "flex") {
                PayorID = $("#ShadowQAPayorID_" + tabid).val();
                if ($('#ShadowQAPayorIDRemarks_' + tabid).val() != "") {
                    payorRemarks = $('#ShadowQAPayorIDRemarks_' + tabid).val();
                    $("#validPayor_" + tabid).hide();
                    if ($("#hdnClaim" + tabid).val() == "") {
                        $("#hdnClaim" + tabid).val("ClaimId" + "|" + claimId + "^" + "PayorID" + "|" + PayorID + "|" + payorRemarks);
                    } else {
                        $("#hdnClaim" + tabid).val($("#hdnClaim" + tabid).val() + "^" + "PayorID" + "|" + PayorID + "|" + payorRemarks);
                    }
                } else {
                    $('#ShadowQAPayorIDRemarks_' + tabid).focus();
                    $("#validPayor_" + tabid).show();
                }
            }
            else {
                PayorID = $("#QAPayorID_" + tabid).val();
                payorRemarks = $('#QAPayorIDRemarks_' + tabid).val();
                if (PayorID != "0" && PayorID != "") {
                    if ($("#hdnAcceptClaim" + tabid).val() == "") {
                        $("#hdnAcceptClaim" + tabid).val("ClaimId" + "|" + claimId + "^" + "PayorID" + "|" + PayorID + "|" + payorRemarks);
                    } else {
                        $("#hdnAcceptClaim" + tabid).val($("#hdnAcceptClaim" + tabid).val() + "^" + "PayorID" + "|" + PayorID + "|" + payorRemarks);
                    }
                }
            }
            var res2 = $("[id=" + "Feedback_" + tabid + "]:eq(1)").attr('class');
            if (res2.includes('reject')) {
                if ($("#ShadowQAProviderFeedback_" + tabid).val() != "" && $('#ShadowQAProviderFeedbackRemarks_' + tabid).val() != "") {
                    $("#validFeedback_" + tabid).hide();
                    ProviderFeedbackID = $("#ShadowQAProviderFeedback_" + tabid).val();
                    FeedbackRemarks = $('#ShadowQAProviderFeedbackRemarks_' + tabid).val();
                }
                else {
                    ProviderFeedbackID = 0;
                    $('#ShadowQAProviderFeedbackRemarks_' + tabid).focus();
                    $("#validFeedback_" + tabid).show();
                }

                if ($("#hdnClaim" + tabid).val() == "") {
                    $("#hdnClaim" + tabid).val("ClaimId" + "|" + claimId + "^" + "ProviderFeedbackID" + "|" + ProviderFeedbackID + "|" + FeedbackRemarks);
                } else {
                    $("#hdnClaim" + tabid).val($("#hdnClaim" + tabid).val() + "^" + "ProviderFeedbackID" + "|" + ProviderFeedbackID + "|" + FeedbackRemarks);
                }
            }
            else {
                if ($("#QAFeedback_" + tabid).val() != "")
                    ProviderFeedbackID = $("#QAFeedback_" + tabid).val();
                else
                    ProviderFeedbackID = 0;

                FeedbackRemarks = $('#QAProviderFeedbackRemarks_' + tabid).val();
                    if ($("#hdnAcceptClaim" + tabid).val() == "") {
                        $("#hdnAcceptClaim" + tabid).val("ClaimId" + "|" + claimId + "^" + "ProviderFeedbackID" + "|" + ProviderFeedbackID + "|" + FeedbackRemarks);
                    } else {
                        $("#hdnAcceptClaim" + tabid).val($("#hdnAcceptClaim" + tabid).val() + "^" + "ProviderFeedbackID" + "|" + ProviderFeedbackID + "|" + FeedbackRemarks);
                    }
            }
            if (tabid != "1") {

                //Starting of reading Claim2 to Claim4 Dx & CPT Data

                // DxNewClaimremarks

                var DxNewClaimremarks = $("[id*=DxRemarkss_" + tabid + "_]");
                $("#hdnShadowQADxRemarks" + tabid).val("");
                $("#hdnShadowQADxCodes" + tabid).val("");
                $("#hdnShadowQAAcceptDxCodes" + tabid).val("");
                $("#hdnShadowQAAcceptDxRemarks" + tabid).val("");

                for (var i = 0; i < DxNewClaimremarks.length; i++) {
                    var id = parseInt($(DxNewClaimremarks[i]).attr("id").split("_")[2]);
                    if ($(DxNewClaimremarks[i]).css("display") == "flex") {
                        if ($(DxNewClaimremarks[i]).val() != "") {
                            $("#validDxRemarksClaim_" + tabid + "_" + id).hide();

                            if ($("#txtDx" + tabid + "Claim_" + id).val() != "") {
                                if ($("#hdnShadowQADxCodes" + tabid).val() == "") {
                                    $("#hdnShadowQADxCodes" + tabid).val(id + "^" + $("#txtDx" + tabid + "Claim_" + id).val());
                                    $("#hdnShadowQAErrorTypeID" + tabid).val(ErrorTypeID);
                                }
                                else
                                    $("#hdnShadowQADxCodes" + tabid).val($("#hdnShadowQADxCodes" + tabid).val() + "|" + id + "^" + $("#txtDx" + tabid + "Claim_" + id).val());
                            }

                            if ($("#hdnShadowQADxRemarks" + tabid).val() == "")
                                $("#hdnShadowQADxRemarks" + tabid).val(id + "^" + $(DxNewClaimremarks[i]).val());
                            else
                                $("#hdnShadowQADxRemarks" + tabid).val($("#hdnShadowQADxRemarks" + tabid).val() + "|" + id + "^" + $(DxNewClaimremarks[i]).val());
                        }
                        else {
                            if ($(DxNewClaimremarks[i]).val() == "") {
                                var chk = $("#chkAll_" + tabid).is(':checked');
                                if (!chk) {
                                    $(DxNewClaimremarks[i]).focus();
                                    $("#validDxRemarksClaim_" + tabid + "_" + id).show();
                                }
                            }
                        }
                    }
                    else {

                        if ($("#hdnShadowQAAcceptDxCodes" + tabid).val() == "") {
                            if ($(".txQADx_" + tabid + "_" + id).val() != undefined && $(".txQADx_" + tabid + "_" + id).val() != "")
                                $("#hdnShadowQAAcceptDxCodes" + tabid).val(id + "^" + $(".txQADx_" + tabid + "_" + id).val());
                        }
                        else {
                            if ($(".txQADx_" + tabid + "_" + id).val() != undefined && $(".txQADx_" + tabid + "_" + id).val() != "")
                                $("#hdnShadowQAAcceptDxCodes" + tabid).val($("#hdnShadowQAAcceptDxCodes" + tabid).val() + "|" + id + "^" + $(".txQADx_" + tabid + "_" + id).val());
                        }

                        if ($("#hdnShadowQAAcceptDxRemarks" + tabid).val() == "") {
                            if ($(".QADxRemarks_" + tabid + "_" + id).val() != undefined && $(".QADxRemarks_" + tabid + "_" + id).val() != "")
                                $("#hdnShadowQAAcceptDxRemarks" + tabid).val(id + "^" + $(".QADxRemarks_" + tabid + "_" + id).val());
                        }
                        else {
                                if ($(".QADxRemarks_" + tabid + "_" + id).val() != undefined && $(".QADxRemarks_" + tabid + "_" + id).val() != "")
                                    $("#hdnShadowQAAcceptDxRemarks" + tabid).val($("#hdnShadowQAAcceptDxRemarks" + tabid).val() + "|" + id + "^" + $(".QADxRemarks_" + tabid + "_" + id).val());
                            }
                    }
                }

                //// DxNewClaimcodes
                //var DxNewClaimcodes = $("[id*=txtDx" + tabid + "Claim_]");
                //$("#hdnShadowQADxCodes" + tabid).val("");
                //for (var i = 0; i < DxNewClaimcodes.length; i++) {
                //    var id = parseInt($(DxNewClaimcodes[i]).attr("id").split("_")[1]);
                //    if ($(DxNewClaimremarks[i]).css("display") == "flex") {
                //        if ($("#" + $(DxNewClaimcodes[i]).attr("id")).val() != "" && $(DxNewClaimcodes[i]).val() != "") {
                //            if ($("#hdnShadowQADxCodes" + tabid).val() == "") {
                //                $("#hdnShadowQADxCodes" + tabid).val(id + "^" + $(DxNewClaimcodes[i]).val());
                //                $("#hdnShadowQAErrorTypeID" + tabid).val(ErrorTypeID);
                //            }
                //            else
                //                $("#hdnShadowQADxCodes" + tabid).val($("#hdnShadowQADxCodes" + tabid).val() + "|" + id + "^" + $(DxNewClaimcodes[i]).val());
                //        }
                //    }
                //    else {
                //        if ($("#hdnShadowQAAcceptDxCodes" + tabid).val() == "") {
                //            if ($(".txQADx_" + tabid + "_" + id).val() != undefined && $(".txQADx_" + tabid + "_" + id).val() != "")
                //                $("#hdnShadowQAAcceptDxCodes" + tabid).val(id + "^" + $(".txQADx_" + tabid + "_" + id).val());
                //        }
                //        else {
                //            if ($(".txQADx_" + tabid + "_" + id).val() != undefined && $(".txQADx_" + tabid + "_" + id).val() != "")
                //                $("#hdnShadowQAAcceptDxCodes" + tabid).val($("#hdnShadowQAAcceptDxCodes" + tabid).val() + "|" + id + "^" + $(".txQADx_" + tabid + "_" + id).val());
                //        }
                //    }
                //}


                // CptNewClaimRemarks

                var CptNewClaimRemarks = $("[id*=CptRemarkss_" + tabid + "_]");
                $("#hdnShadowQACptRemarks" + tabid).val("");
                $("#hdnShadowQACptCodes" + tabid).val("");
                $("#hdnShadowQAAcceptCptCodes" + tabid).val("");

                var index = 1;
                for (var i = 0; i < CptNewClaimRemarks.length; i++) {
                    var id = parseInt($(CptNewClaimRemarks[i]).attr("id").split("_")[2]);

                    if ($(CptNewClaimRemarks[i]).css("display") == "flex") {
                        if ($(CptNewClaimRemarks[i]).val() != "") {
                            if ($("#hdnShadowQACptCodes" + tabid).val() == "") {
                                if ($("#txt" + tabid + "Cpt_" + index).val() != "") {
                                    var mod = $("#txt" + tabid + "mod_" + index).val() != "" ? $("#txt" + tabid + "mod_" + index).val() : null;
                                    var qty = $("#txt" + tabid + "qty_" + index).val() != "" ? $("#txt" + tabid + "qty_" + index).val() : null;
                                    var links = $("#txt" + tabid + "links_" + index).val() != "" ? $("#txt" + tabid + "links_" + index).val() : null;
                                    if (links == undefined)
                                        links = null;
                                    $("#hdnShadowQACptCodes" + tabid).val(id + "^" + $("#txt" + tabid + "Cpt_" + index).val() + "^" + mod + "^" + qty + "^" + links);
                                    $("#hdnShadowQAErrorTypeID" + tabid).val(ErrorTypeID);
                                }
                            }
                            else {

                                if ($("#txt" + tabid + "Cpt_" + index).val() != undefined && $("#txt" + tabid + "Cpt_" + index).val() != "") {
                                    var mod = $("#txt" + tabid + "mod_" + index).val() != "" ? $("#txt" + tabid + "mod_" + index).val() : null;
                                    var qty = $("#txt" + tabid + "qty_" + index).val() != "" ? $("#txt" + tabid + "qty_" + index).val() : null;
                                    var links = $("#txt" + tabid + "links_" + index).val() != "" ? $("#txt" + tabid + "links_" + index).val() : null;
                                    if (links == undefined)
                                        links = null;
                                    $("#hdnShadowQACptCodes" + tabid).val($("#hdnShadowQACptCodes" + tabid).val() + "|" + id + "^" + $("#txt" + tabid + "Cpt_" + index).val() + "^" + mod + "^" + qty + "^" + links);
                                    $("#hdnShadowQAErrorTypeID" + tabid).val(ErrorTypeID);
                                }
                            }

                            $("#validCptRemarksClaim_" + tabid + "_" + id).hide();

                            if ($(CptNewClaimRemarks[i]).val() != "") {
                                if ($("#hdnShadowQACptRemarks" + tabid).val() == "")
                                    $("#hdnShadowQACptRemarks" + tabid).val(id + "^" + $(CptNewClaimRemarks[i]).val());
                                else
                                    $("#hdnShadowQACptRemarks" + tabid).val($("#hdnShadowQACptRemarks" + tabid).val() + "|" + id + "^" + $(CptNewClaimRemarks[i]).val());
                            }
                        }
                        else {
                            if ($(CptNewClaimRemarks[i]).val() == "") {
                                var chk = $("#chkAll_" + tabid).is(':checked');
                                if (!chk) {
                                    $(CptNewClaimRemarks[i]).focus();
                                    $("#validCptRemarksClaim_" + tabid + "_" + id).show();
                                }
                            }
                        }
                    }
                    else {
                        if ($("#hdnShadowQAAcceptCptCodes" + tabid).val() == "") {
                            if ($("#QaCptCodes_" + tabid + "_" + id).val() != undefined && $("#QaCptCodes_" + tabid + "_" + id).val() != "")
                            $("#hdnShadowQAAcceptCptCodes" + tabid).val(id + "^" + $("#QaCptCodes_" + tabid + "_" + id).val());
                        }
                        else {
                            if ($("#QaCptCodes_" + tabid + "_" + id).val() != undefined && $("#QaCptCodes_" + tabid + "_" + id).val() !="") {
                                $("#hdnShadowQAAcceptCptCodes" + tabid).val($("#hdnShadowQAAcceptCptCodes" + tabid).val() + "|" + id + "^" + $("#QaCptCodes_" + tabid + "_" + id).val());
                            }
                        }
                        if ($("#hdnShadowQAAcceptCptRemarks" + tabid).val() == "") {
                            if ($(".QACptRemarks_" + tabid + "_" + id).val() != undefined && $(".QACptRemarks_" + tabid + "_" + id).val() != "")
                            $("#hdnShadowQAAcceptCptRemarks" + tabid).val(id + "^" + $(".QACptRemarks_" + tabid + "_" + id).val());
                        }
                        else {
                            if ($(".QACptRemarks_" + tabid + "_" + id).val() != undefined && $(".QACptRemarks_" + tabid + "_" + id).val() != "")  {
                                $("#hdnShadowQAAcceptCptRemarks" + tabid).val($("#hdnShadowQAAcceptCptRemarks" + tabid).val() + "|" + id + "^" + $(".QACptRemarks_" + tabid + "_" + id).val());
                            }
                        }
                    }
                    index = index + parseInt(1);
                }
                //Ending of reading Claim2 to Claim4 Dx & CPT Data
            }
        });

        var Dxremarks = $("#claim1 [class*=DxRemarks_]");
        $("#hdnShadowQADxRemarks").val("");
        $("#hdnShadowQAAcceptDxRemarks").val("");
        for (var i = 0; i < Dxremarks.length; i++) {
            var id = parseInt($(Dxremarks[i]).attr("id").split("_")[1]);
            if ($(Dxremarks[i]).css("display") == "flex") {
                if ($(Dxremarks[i]).val() != "") {
                    $("#validDx_" + id).hide();
                    if ($("#hdnShadowQADxRemarks").val() == "")
                        $("#hdnShadowQADxRemarks").val(id + "^" + $(Dxremarks[i]).val());
                    else
                        $("#hdnShadowQADxRemarks").val($("#hdnShadowQADxRemarks").val() + "|" + id + "^" + $(Dxremarks[i]).val());
                }
                else {
                    if ($(Dxremarks[i]).val() == "") {
                        var chk = $("#chkAll_1").is(':checked');
                        if (!chk) {
                            $(Dxremarks[i]).focus();
                            $("#validDx_" + id).show();
                        }
                    }
                }
            }
            else {
                if ($("#hdnShadowQAAcceptDxRemarks").val() == "") {
                    if ($("#QADxRemarks_" + id).val() != undefined && $("#QADxRemarks_" + id).val() != "") {
                        $("#hdnShadowQAAcceptDxRemarks").val(id + "^" + $("#QADxRemarks_" + id).val());
                    }
                }
                else {
                    if ($("#QADxRemarks_" + id).val() != undefined && $("#QADxRemarks_" + id).val() != "") {
                        $("#hdnShadowQAAcceptDxRemarks").val($("#hdnShadowQAAcceptDxRemarks").val() + "|" + id + "^" + $("#QADxRemarks_" + id).val());
                    }
                }
            }
        }

        var DxCodes = $("#claim1 [id*=txtDx_]");
        $("#hdnShadowQADxCodes").val("");
        $("#hdnShadowQAAcceptDxCodes").val("");
        for (var i = 0; i < DxCodes.length; i++) {
            var id = parseInt($(DxCodes[i]).attr("id").split("_")[1]);
            if ($(Dxremarks[i]).val() != "" && $(Dxremarks[i]).css("display") == "flex") {
                if ($("#hdnShadowQADxCodes").val() == "")
                    $("#hdnShadowQADxCodes").val(id + "^" + $(DxCodes[i]).val());
                else
                    $("#hdnShadowQADxCodes").val($("#hdnShadowQADxCodes").val() + "|" + id + "^" + $(DxCodes[i]).val());
            } else {

                if ($("#hdnShadowQAAcceptDxCodes").val() == "") {
                    if ($(".txQADx_" + id).val() != undefined && $(".txQADx_" + id).val() != "") {
                        $("#hdnShadowQAAcceptDxCodes").val(id + "^" + $(".txQADx_" + id).val());
                    }
                }
                else {
                    if ($(".txQADx_" + id).val() != undefined && $(".txQADx_" + id).val() != "") {
                        $("#hdnShadowQAAcceptDxCodes").val($("#hdnShadowQAAcceptDxCodes").val() + "|" + id + "^" + $(".txQADx_" + id).val());
                    }
                }
            }
        }


        var CptRemarks = $("#claim1 [class*=CptRemarks_]");
        $("#hdnShadowQACptRemarks").val("");
        $("#hdnShadowQAAcceptCptRemarks").val("");
        for (var i = 0; i < CptRemarks.length; i++) {
            var id = parseInt($(CptRemarks[i]).attr("id").split("_")[1]);
            if ($(CptRemarks[i]).css("display") == "flex") {
                if ($(CptRemarks[i]).val() != "") {
                    $("#validCpt_" + id).hide();
                    if ($("#hdnShadowQACptRemarks").val() == "")
                        $("#hdnShadowQACptRemarks").val(id + "^" + $(CptRemarks[i]).val());
                    else
                        $("#hdnShadowQACptRemarks").val($("#hdnShadowQACptRemarks").val() + "|" + id + "^" + $(CptRemarks[i]).val());
                }
                else {
                    if ($(CptRemarks[i]).val() == "") {
                        var chk = $("#chkAll_1").is(':checked');
                        if (!chk) {
                            $(CptRemarks[i]).focus();
                            $("#validCpt_" + id).show();
                        }
                    }
                }
            }
            else {
                if ($("#hdnShadowQAAcceptCptRemarks").val() == "") {
                    if ($("#QACptRemarks_" + id).val() != undefined && $("#QACptRemarks_" + id).val() != "") {
                        $("#hdnShadowQAAcceptCptRemarks").val(id + "^" + $("#QACptRemarks_" + id).val());
                    }
                }
                else {
                    if ($("#QACptRemarks_" + id).val() != undefined && $("#QACptRemarks_" + id).val() != "") {
                        $("#hdnShadowQAAcceptCptRemarks").val($("#hdnShadowQAAcceptCptRemarks").val() + "|" + id + "^" + $("#QACptRemarks_" + id).val());
                    }
                }
            }
        }

        var CptCodes = $("#claim1 [id*=DivCptRow_]");
        $("#hdnShadowQACptCodes").val("");
        $("#hdnShadowQAAcceptCptCodes").val("");
        for (var i = 1; i <= CptCodes.length; i++) {
            var id = parseInt($("#txtCpt_" + i).attr("id").split("_")[1]);
            if ($(".CptRemarks_" + id).css("display") == "flex") {
                if ($(".CptRemarks_" + id).val() != "") {
                    if ($("#hdnShadowQACptCodes").val() == "") {
                        if ($("#txtCpt_" + i).val() != "") {
                            var mod = $("#txtMod_" + i).val() != "" ? $("#txtMod_" + i).val() : null;
                            var qty = $("#txtQty_" + i).val() != "" ? $("#txtQty_" + i).val() : null;
                            var links = $("#txtLinks_" + i).val() != "" ? $("#txtLinks_" + i).val() : null;
                            $("#hdnShadowQACptCodes").val(id + "^" + $("#txtCpt_" + i).val() + "^" + mod + "^" + qty + "^" + links);
                        }
                    }
                    else {
                        if ($("#txtCpt_" + i).val() != "") {
                            var mod = $("#txtMod_" + i).val() != "" ? $("#txtMod_" + i).val() : null;
                            var qty = $("#txtQty_" + i).val() != "" ? $("#txtQty_" + i).val() : null;
                            var links = $("#txtLinks_" + i).val() != "" ? $("#txtLinks_" + i).val() : null;
                            $("#hdnShadowQACptCodes").val($("#hdnShadowQACptCodes").val() + "|" + id + "^" + $("#txtCpt_" + i).val() + "^" + mod + "^" + qty + "^" + links);
                        }
                    }
                }
            }
            else {
                if ($("#hdnShadowQAAcceptCptCodes").val() == "") {
                    if ($("#QaCptCodes_" + id).val() != undefined && $("#QaCptCodes_" + id).val() != "") {
                        $("#hdnShadowQAAcceptCptCodes").val(id + "^" + $("#QaCptCodes_" + id).val());
                    }
                }
                else {
                    if ($("#QaCptCodes_" + id).val() != undefined && $("#QaCptCodes_" + id).val() != "") {
                        $("#hdnShadowQAAcceptCptCodes").val($("#hdnShadowQAAcceptCptCodes").val() + "|" + id + "^" + $("#QaCptCodes_" + id).val());
                    }
                }
            }
        }



        var total = $(".fa-check-circle").length;
        var reject = $(".reject:not(.ignore)").length;
        var accept = $(".accept").length;

       $(".tab").each(function () {
           var id = $(this).attr('id');
           var tabid = id.split("tabIndex_")[1].split("_ClaimId_")[0];
           if (tabid == "1") {
               var chk = $("#chkAll_" + tabid).is(':checked');
               if (!chk) {
                   if ($("#ShadowQAErrorType_" + tabid).val() == "") {
                       $("#ShadowQAErrorTypeError_" + tabid).html('<span id="projectdd-error" class="">ErrorType is required.</span>');
                       var txtdanger = $('[class*=txtdanger][style=""]');
                       if (txtdanger.length > 0)
                           e.preventDefault();
                   }
               } else {
                   $("#hdnShadowQAErrorTypeID" + tabid).val("0");
               }
                } else {
                    var chk = $("#chkAll_" + tabid).is(':checked');
                    if (!chk) {
                        if ($("#ShadowQAErrorType_" + tabid).val() == "") {
                            $("#ShadowQAErrorTypeError_" + tabid).html('<span id="projectdd-error" class="">ErrorType is required.</span>');
                            var txtdanger = $('[class*=txtdanger][style=""]');
                            if (txtdanger.length > 0)
                                e.preventDefault();
                        }
               }
                    else {
                        $("#hdnShadowQAErrorTypeID" + tabid).val("0");
                    }
                }
       });

        $(".tab").each(function () {
            var id = $(this).attr('id');
            var tabid = id.split("tabIndex_")[1].split("_ClaimId_")[0];
            if (tabid == "1") {
                var Dx = $("#claim1 [id*=DxRemarks_]").last().attr('id');
                if (Dx != "") {
                    var id = Dx.split('_')[1];
                    $("#validDx_" + id).hide();
                }
                var Cpt = $("#claim1 [id*=CptRemarks_]").last().attr('id');
                if (Cpt != "") {
                    var id = Cpt.split('_')[1];
                    $("#validCpt_" + id).hide();
                }
            }
            else {
                var Dxtab = $("[id*=DxRemarkss_" + tabid + "_]").last().attr('id');
                if (Dxtab != "") {
                    var id = Dxtab.split('_')[2];
                    $("#validDxRemarksClaim_" + tabid + "_" + id).hide();
                }
                var Cpttab = $("[id*=CptRemarkss_" + tabid + "_]").last().attr('id');
                if (Cpttab != "") {
                    var id = Cpttab.split('_')[2];
                    $("#validCptRemarksClaim_" + tabid + "_" + id).hide();
                }
            }
        });

        if (total != accept + reject) {
            $("#validationPopUp").show();
            e.preventDefault();
        } else {
            var txtdanger = $('[class*=txtdanger][style=""]');
            var errortype = $('[id*=projectdd]').text();
            if (txtdanger.length > 0 || errortype != "")
                e.preventDefault();
            else
                $("#form1").submit();
        }
    });

    ShadowQAErrorType = function (id) {
        if ($("#ShadowQAErrorType_" + id).val() != "") {
            $("#ShadowQAErrorTypeError_" + id).text('');
        }
    }

    validationPopUp = function () {
        $("#validationPopUp").hide();
    };

    removevalid = function (id) {
        var id1 = id.split("_")[0];
        var id2 = id.split("_")[1];
        if ($("#" + id1 + "Remarks_" + id2).val() != "") {
            $("#valid" + id1 + "_" + id2).hide();
        } else {
            $("#valid" + id1 + "_" + id2).show();
        }
    };

    removeClaimValid = function (id) {
        var id1 = id.split("_")[0];
        var id2 = id.split("_")[2];
        if ($("#" + id).val() != "") {
            $("#valid" + id1 + "Claim_" + id2).hide();
        } else {
            $("#valid" + id1 + "Claim_" + id2).show();
        }
    };

    DeleteDxCodes = function (id) {
        var iCnt = 0;
        var Cnt = 0;
        var index = id.split('_')[1];
        var val = $("#" + index).val();
        //dxArray.splice($.inArray(val, dxArray), 1);
        //$("#hdnDxCodes").val(dxArray);
        $('#' + id).remove();
        $(".dxindex").each(function () {
            if (iCnt <= 100) {
                iCnt = iCnt + 1;
                $(this).text(iCnt);
            }
        });

        $(".txtDx").each(function () {
            if (Cnt <= 100) {
                Cnt = Cnt + 1;
                $(this).attr('id', 'txtDx_' + Cnt);
            }
            if (iCnt == Cnt)
                return false;
        });
        //Cnt = Cnt - 1;
        //var lastindex = $(".txtDx").last().attr('id');
       // $("#txtDx_" + Cnt).attr("onfocusout", "DxFunction('" + "txtDx_" + Cnt + "')");
        $(".txtDx").last().attr("onfocusout", "DxFunction('" + "txtDx_" + iCnt + "')");
    };

    DeleteCptCodes = function (id) {
        var iCnt = 0;
        var Cnt = 0;
        var index = id.split('_')[1];
        var val = $("#" + index).val();
        cptArray.splice($.inArray(val, cptArray), 1);
        $("#hdnCptCodes").val(cptArray);
        $('#' + id).remove();
        $(".cptindex").each(function () {
            if (iCnt <= 100) {
                iCnt = iCnt + 1;
                $(this).text(iCnt);
            }
        });

        $(".cptLinks").each(function () {
            if (Cnt <= 100) {
                Cnt = Cnt + 1;
                $(this).attr('id', 'txtLinks_' + Cnt);
            }
            if (iCnt == Cnt)
                return false;
        });
       // Cnt = Cnt - 1;
        //var lastindex = $(".cptLinks").last().attr('id');
        //$("#" + lastindex).attr("onfocusout", "CptFunction('" + "txtLinks_" + Cnt + "')");
        $(".cptLinks").last().attr("onfocusout", "CptFunction('" + "txtLinks_" + Cnt + "')");
    };

    DeleteDxClaims = function (id) {
        var iCnt = 0;
        var Cnt = 0;
        var index = id.split('_')[1];
        var claimId = id.split('_')[2];
        var val = $("#txtDx" + index + "Claim_" + claimId).val();
        //dxArray2.splice($.inArray(val, dxArray2), 1);
        //$("#hdnDxCodes1").val(dxArray2);
        //dxArray3.splice($.inArray(val, dxArray3), 1);
        //$("#hdndxcodes2").val(dxArray3);
        //dxArray4.splice($.inArray(val, dxArray4), 1);
        //$("#hdndxcodes3").val(dxArray4);
        $('#' + id).remove();
        $(".dx" + index + "index").each(function () {
            if (iCnt <= 100) {
                iCnt = iCnt + 1;
                $(this).text(iCnt);
            }
        });

        $(".claim_" + index).each(function () {
            if (Cnt <= 100) {
                Cnt = Cnt + 1;
                $(this).attr('id', 'txtDx' + index+"" + 'Claim_' + Cnt);
            }
        });
        //var lastindex = $(".txt" + claimId + "Dx").last().attr('id');
        //$("#" + lastindex).attr("onfocusout", "DxClaims('" + "txt" + claimId + "Dx_1_" + claimId + "')");
        var lastindex = $(".claim_" + index).last().attr('id');
        $("#" + lastindex).attr("onfocusout", "DxClaims('" + "txt" + index + "Dx_" + Cnt + "_" + index + "')");
    };

    DeleteCptClaims = function (id) {
        var iCnt = 0;
        var Cnt = 0;
        var index = id.split('_')[1];
        var claimId = id.split('_')[2];
        var cpt = $("#txt" + claimId + "Cpt_" + index).val();
        var mod = $("#txt" + claimId + "mod_" + index).val();
        var qty = $("#txt" + claimId + "qty_" + index).val();
        var links = $("#txt" + claimId + "links_" + index).val();
        var val = cpt + "^" + mod + "^" + qty + "^" + links;
        //cptArray2.splice($.inArray(val, cptArray2), 1);
        //$("#hdnCptCodes1").val(cptArray2);
        //cptArray3.splice($.inArray(val, cptArray3), 1);
        //$("#hdnCptCodes2").val(cptArray3);
        //cptArray4.splice($.inArray(val, cptArray4), 1);
        //$("#hdnCptCodes3").val(cptArray4);
        $('#' + id).remove();
        $(".cpt" + claimId + "index").each(function () {
            if (iCnt <= 100) {
                iCnt = iCnt + 1;
                $(this).text(iCnt);
            }
        });

        $(".txt" + claimId + "Link").each(function () {
            if (Cnt <= 100) {
                Cnt = Cnt + 1;
                $(this).attr('id', 'txt' + claimId + 'links_' + Cnt);
            }
        });
        var lastindex = $(".txt" + claimId + "Link").last().attr('id');
        $("#" + lastindex).attr("onfocusout", "CptClaims('" + "txt" + claimId + "links_1_" + claimId + "')");

    };

    $(document).on('keyup keypress change', '.cptQtyClaim,.cptLinksClaim', function () {
        this.value = this.value.replace(/[^0-9\.]/g, '');
    });
</script>
