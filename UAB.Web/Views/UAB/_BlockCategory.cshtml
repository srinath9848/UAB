@model UAB.DTO.BlockDTO


<style>
    .modal-content {
        margin-top: 90px;
    }

    .errorTxt {
        color: red;
        min-height: 20px;
    }

    .tableresponsiveforroles {
        max-height: 200px;
    }

    .roledddwith {
        width: 215px;
    }
</style>
<div class="modal fade modal-mini modal-primary show" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="display: block;">
    <div class="modal-dialog">
        <div class="modal-content" style="width: 500px;">
            <br />
            <div class="col-md-12">
                <div class="form-group">
                    <div class="col-md-6">
                        <h5 class="card" style="width:300px">Block Clinical case</h5>
                        <input type="hidden"id="ccid" value="@ViewBag.ccid" />
                    </div>
                    <div class="col-md-10">
                        <label>Block Category</label>
                        @Html.DropDownListFor(model => model.BlockCategoryId, new SelectList(@ViewBag.BlockCategories, "BlockCategoryId", "Name"), "--Select a Category--", new { @id = "categorydd", @class = "form-control CoderDetails" })
                        @Html.ValidationMessageFor(model => model.BlockCategoryId, null, new { @class = "text-danger" })
                    </div>
                    <br />
                    <div class="col-md-10">
                        @Html.TextAreaFor(model => model.Remarks, new { @id="txtremarks",@placeholder = "Enter a Block Comments here", @class = "form-control CoderDetails", @autocomplete = "off" })
                        @Html.ValidationMessageFor(model => model.Remarks, null, new { @class = "text-danger" })
                    </div>
                </div>
                <div class="col-md-12">
                    <div id="assignerror" style="color:red"></div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-sm btn-info btn-fill" id="btnsubmit" onclick="BlockClinicalcase()">Block</button>
                        <button type="button" class="btn btn-sm btn-danger btn-fill" onclick="ModalClose1()">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="~/dashboardassets/libs/jquery/dist/jquery.min.js"></script>
<script src="~/dashboardassets/libs/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.11/jquery.validate.unobtrusive.min.js" type="text/javascript"></script>
<script src="~/dashboardassets/extra-libs/DataTables/datatables.js"></script>

<script type="text/javascript">

    $(document).ready(function () {

        BlockClinicalcase  = function () {
        $.ajax({
            type: "POST",
            url: "@Url.Action("BlockClinicalcase", "UAB")",
            data: {
                "ccid": $("#ccid").val(),
                "bid": $("#categorydd").find('option:selected').val(),
                "remarks":$("#txtremarks").val()
            },
            success: function (response) {
                $("#modalContent").html('');
            },
            failure: function (response) {
                alert(response);
            }
        });
        }

        ModalClose1 = function () {
            $("#modalContent").html('');
        }
});

</script>
